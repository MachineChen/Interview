{"diagram":{"image":{"height":200,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","width":200,"y":0,"x":0},"elements":{"id":"root","title":"大数据知识结构","structure":"mind_right","leftChildren":[{"id":"65bc2c8cea61","title":"kafka","children":[{"id":"8039616c303a","title":"分布式发布订阅消息系统，以集群方式运行，由一个或多个服务组成，每个服务叫做一个broker。消费者从broker拉取数据","children":[],"parent":"65bc2c8cea61"},{"id":"efb440f1a624","title":"通过处理日志、日志聚合处理消费者规模的网站中所有动作流数据","children":[],"parent":"65bc2c8cea61"},{"id":"040090aca597","title":"消费者组","children":[{"id":"77e0bf8fc4b0","title":"同一个组内的消费者消费消息是队列模型","children":[{"id":"28264a4c54f6","title":"每个分区都是顺序的、不可变的消息队列","parent":"77e0bf8fc4b0","children":[]},{"id":"ef39d69b89bf","title":"相同消费者组内不能有比分区更多的消费者，否则多出的消费者一直处于空等待","children":[],"parent":"77e0bf8fc4b0"},{"id":"23ded07d5e54","title":"分区中的每个消息都被分了一个序列号，称之为偏移量offset.在每个分区中此偏移量是惟一的","parent":"77e0bf8fc4b0","children":[]}],"parent":"040090aca597"},{"id":"1ee7c99dbf8a","title":"不同组之间消费消息是发布订阅模型","children":[],"parent":"040090aca597"}],"parent":"65bc2c8cea61"},{"id":"1cade2ed180a","title":"消息以topic为类别记录。每条消息由key, value, 时间戳组成","children":[],"parent":"65bc2c8cea61"},{"id":"8b2290264139","title":"生产者发送到特定topic上的消息按发送顺序加入topic，消费者也按此顺序接收消息","children":[],"parent":"65bc2c8cea61"},{"id":"fcbf1955ebeb","title":"Topic配置复制因子(replication facto)为N，则可以允许N-1服务器宕机而不丢失任何已经提交的消息","children":[],"parent":"65bc2c8cea61"},{"id":"84a2c3d84051","title":"kafka集群保持所有的消息，无论它是否被消费过，直到过期。消费者所持有的源数据就是偏移量，通过控制实际偏移量决定读取哪部分数据。","parent":"65bc2c8cea61","children":[]},{"id":"043c91c79005","title":"日志分区被分布在多个服务器上，每个服务器处理它分到的分区","children":[],"parent":"65bc2c8cea61"},{"id":"bd215c707547","title":"每个分区可以被复制到其他服务器上做备份容错","children":[],"parent":"65bc2c8cea61"},{"id":"65201fca459e","title":"每个分区有一个leader，零到多个follower。leader处理此分区的读写请求，follower被动的复制数据；leader宕机，follower 中重选举一个leader","children":[],"parent":"65bc2c8cea61"},{"id":"6ee7e38ca6a7","title":"一台服务器可能同时是一个分区的leader，另一个分区的follower。实现负载均衡","children":[],"parent":"65bc2c8cea61"}],"parent":"root","collapsed":false},{"id":"784e5ea069f3","title":"zookeeper","children":[{"id":"19d34fd1f8b7","title":"分布式协调服务","parent":"784e5ea069f3","children":[]}],"parent":"root"},{"id":"40ac7a472594","title":"flume","parent":"root","children":[{"id":"a2102db8d457","title":"分布式日志收集系统","parent":"40ac7a472594","children":[]},{"id":"55932ecf61e8","title":"核心是把数据从数据源source收集过来，发送到指定的目的地sink.","parent":"40ac7a472594","children":[]},{"id":"e7ae7b56b43b","title":"为了保证数据可靠发送，从数据源收集到的数据会先发送到Channel中缓存，待数据成功到达sink后，flume再删除channel中的缓存数据","children":[],"parent":"40ac7a472594"},{"id":"193974e77223","title":"传输过程中，数据被封装成event(最小完整数据单元):包括header, body, event信息","children":[],"parent":"40ac7a472594"}]},{"id":"66e12718602d","title":"camus","children":[{"id":"f833604d143c","title":"子主题","children":[],"parent":"66e12718602d"}],"parent":"root"},{"id":"db92bcc3edb8","title":"oozie","children":[],"parent":"root"},{"id":"e2168e8213b6","title":"hadoop","children":[],"parent":"root"}],"root":true,"theme":"paper","children":[{"id":"14eb4e069cad","title":"hive","parent":"root","children":[{"id":"8f2fab255826","title":"Hadoop的数据仓库工具，本质是将SQL转换为MapReduce计算","parent":"14eb4e069cad","children":[]},{"id":"844b38155e8a","title":"可将结构化数据文件映射成数据库表","parent":"14eb4e069cad","children":[]},{"id":"d1adc8b0b75a","title":"用作离线数据分析","parent":"14eb4e069cad","children":[]},{"id":"8c5f374bcd02","title":"分用户接口、源数据存储、解释器、优化器、编译器执行器","parent":"14eb4e069cad","children":[]},{"id":"b5a2e12900e0","title":"依赖于HDFS存储数据，依赖于MR处理数据","children":[],"parent":"14eb4e069cad"},{"id":"2396d88c22d2","title":"不完全支持SQL，eg:不支持记录级别的更新/插入/删除、索引、事务、子查询和连接也有限制","children":[],"parent":"14eb4e069cad"}],"collapsed":false},{"id":"7164f57fda63","title":"storm","children":[],"parent":"root"},{"id":"8c365eb98804","title":"spark","children":[],"parent":"root"},{"id":"d56a7d73e665","title":"redis","children":[],"parent":"root"},{"id":"3850fe8f8916","free":true,"title":"常见消息模型","children":[{"id":"9663aff97523","title":"队列","children":[{"id":"645f9695c08b","title":"一组消费者从服务器读取消息，一条消息仅由其中一个消费者处理","children":[],"parent":"9663aff97523"}],"parent":"3850fe8f8916"},{"id":"cda0505fc091","title":"发布-订阅","children":[{"id":"ea8a0e1b77a9","title":"消息被广播给所有消费者，接收到消息的消费者都可以处理此消息","children":[],"parent":"cda0505fc091"}],"parent":"3850fe8f8916"}],"parent":"root","pos":{"y":9395.499992370605,"x":9709.765625}},{"id":"4a8d6a9dac5e","free":true,"title":"数据仓库","parent":"root","children":[{"id":"c4b5e41adf02","title":"面向主题的 Subject-Oriented","parent":"4a8d6a9dac5e","children":[]},{"id":"8a6f528f4919","title":"集成的 Integrated","parent":"4a8d6a9dac5e","children":[]},{"id":"d451f868d2d2","title":"非易失的&nbsp;&nbsp;Non-Volatile","parent":"4a8d6a9dac5e","children":[]},{"id":"a3098e2e167b","title":"时变的 Time Variant","parent":"4a8d6a9dac5e","children":[]},{"id":"ecc794204417","title":"数据源于外部，用于外部，自身不生产，不消费","children":[],"parent":"4a8d6a9dac5e"},{"id":"16a6c9ce23f6","title":"OLAP(Online Analytical Process) 分析型处理","children":[],"parent":"4a8d6a9dac5e"},{"id":"e3b36b28e6a0","title":"三层架构","parent":"4a8d6a9dac5e","children":[{"id":"c56f5629a102","title":"源数据：接口数据临时存储层，直接沿用外围数据结构与数据，不对外开放","parent":"e3b36b28e6a0","children":[]},{"id":"80422ed89978","title":"数据仓库（细节层）：对源数据进行extract-清洗-transform-load，以固定周期执行ELT后加载到仓库","parent":"e3b36b28e6a0","children":[]},{"id":"c572ffd8e3c3","title":"应用层：根据报表等需求直接计算出的，返回给前端的数据","parent":"e3b36b28e6a0","children":[]}]}],"pos":{"y":9003.234376907349,"x":10185.234375},"collapsed":false}],"lines":{"6c96f722d92d":{"to":"14eb4e069cad","id":"6c96f722d92d","start":{"index":4,"p":{"y":"h","x":42.902643032065},"y":43,"x":42.902643032065},"styles":{"lineColor":"rgb(113, 203, 45)","color":"#ffffff","lineWidth":2},"points":[{"y":210.81640338897705,"x":42.14273158072956},{"y":546.4492101669312,"x":40.6229086780595}],"from":"4a8d6a9dac5e","angle":270.2594467554859,"end":{"index":2,"p":{"y":0,"x":26.097356967935},"y":714.2656135559082,"x":39.86299722672406},"canvasPos":{"w":86,"h":757.2656135559082,"y":9154.234390258789,"x":10185.234375}},"d8a3ea27e7bc":{"to":"3850fe8f8916","id":"d8a3ea27e7bc","start":{"index":1,"p":{"y":0,"x":31.460185185185185},"y":337.5000047683716,"x":59.58518518518518},"styles":{"lineColor":"rgb(113, 203, 45)","color":"#ffffff","lineWidth":2},"points":[{"y":263.875,"x":59.44884259259288},{"y":116.625,"x":59.17615740740712}],"from":"65bc2c8cea61","angle":89.89389682589285,"end":{"index":3,"p":{"y":"h","x":59.03981481481482},"y":43,"x":59.03981481481482},"canvasPos":{"w":118,"h":380.5000047683716,"y":9406.499996185303,"x":9709.765625}}}}},"meta":{"id":"5ac088f4e4b0cf24e9614948","member":"5ab9b585e4b0a248b0e71c80","exportTime":"2018-04-28 17:18:11","diagramInfo":{"category":"mind_free","title":"大数据知识结构","created":"2018-04-01 15:23:32","creator":"5ab9b585e4b0a248b0e71c80","modified":"2018-04-28 17:17:37"},"type":"ProcessOn Schema File","version":"1.0"}}