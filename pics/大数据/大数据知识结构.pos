{"diagram":{"image":{"height":200,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","width":200,"y":0,"x":0},"elements":{"id":"root","title":"大数据知识结构","structure":"mind_right","leftChildren":[{"id":"65bc2c8cea61","title":"kafka","children":[{"id":"8015bb220bd7","title":"分布式发布订阅消息系统","children":[],"parent":"65bc2c8cea61"},{"id":"efb440f1a624","title":"通过处理日志、日志聚合处理消费者规模的网站中所有动作流数据","children":[],"parent":"65bc2c8cea61"},{"id":"b330d1c2c810","title":"消息以topic为类别记录","children":[],"parent":"65bc2c8cea61"},{"id":"8039616c303a","title":"以集群方式运行，由一个或多个服务组成，每个服务叫做一个broker。消费者从broker拉取数据","children":[],"parent":"65bc2c8cea61"},{"id":"1cade2ed180a","title":"每条消息由key, value, 时间戳组成","children":[],"parent":"65bc2c8cea61"},{"id":"3850fe8f8916","title":"常见消息模型","children":[{"id":"9663aff97523","title":"队列","children":[{"id":"645f9695c08b","title":"一组消费者从服务器读取消息，一条消息仅由其中一个消费者处理","children":[],"parent":"9663aff97523"}],"parent":"3850fe8f8916"},{"id":"cda0505fc091","title":"发布-订阅","children":[{"id":"ea8a0e1b77a9","title":"消息被广播给所有消费者，接收到消息的消费者都可以处理此消息","children":[],"parent":"cda0505fc091"}],"parent":"3850fe8f8916"}],"parent":"65bc2c8cea61"},{"id":"040090aca597","title":"消费者组","children":[{"id":"77e0bf8fc4b0","title":"同一个组内的消费者消费消息是队列模型","children":[{"id":"28264a4c54f6","title":"每个分区都是顺序的、不可变的消息队列","parent":"77e0bf8fc4b0","children":[]},{"id":"ef39d69b89bf","title":"相同消费者组内不能有比分区更多的消费者，否则多出的消费者一直处于空等待","children":[],"parent":"77e0bf8fc4b0"},{"id":"23ded07d5e54","title":"分区中的每个消息都被分了一个序列号，称之为偏移量offset.在每个分区中此偏移量是惟一的","parent":"77e0bf8fc4b0","children":[]}],"parent":"040090aca597"},{"id":"1ee7c99dbf8a","title":"不同组之间消费消息是发布订阅模型","children":[],"parent":"040090aca597"}],"parent":"65bc2c8cea61"},{"id":"8b2290264139","title":"生产者发送到特定topic上的消息按发送顺序加入topic，消费者也按此顺序接收消息","children":[],"parent":"65bc2c8cea61"},{"id":"fcbf1955ebeb","title":"Topic配置复制因子(replication facto)为N，则可以允许N-1服务器宕机而不丢失任何已经提交的消息","children":[],"parent":"65bc2c8cea61"},{"id":"84a2c3d84051","title":"kafka集群保持所有的消息，无论它是否被消费过，直到他们过期。消费者所持有的源数据就是偏移量，通过控制实际偏移量决定读取哪部分数据。","parent":"65bc2c8cea61","children":[]},{"id":"043c91c79005","title":"日志分区被分布在多个服务器上，每个服务器处理它分到的分区","children":[],"parent":"65bc2c8cea61"},{"id":"bd215c707547","title":"每个分区可以被复制到其他服务器上做备份容错","children":[],"parent":"65bc2c8cea61"},{"id":"65201fca459e","title":"每个分区有一个leader，零到多个follower。leader处理此分区的读写请求，follower被动的复制数据；leader宕机，follower 中重选举一个leader","children":[],"parent":"65bc2c8cea61"},{"id":"6ee7e38ca6a7","title":"一台服务器可能同时是一个分区的leader，另一个分区的follower。实现负载均衡","children":[],"parent":"65bc2c8cea61"}],"parent":"root","collapsed":false},{"id":"784e5ea069f3","title":"zookeeper","children":[{"id":"19d34fd1f8b7","title":"分布式协调服务","parent":"784e5ea069f3","children":[]}],"parent":"root"},{"id":"40ac7a472594","title":"flume","parent":"root","children":[{"id":"a2102db8d457","title":"分布式日志收集系统","parent":"40ac7a472594","children":[]},{"id":"55932ecf61e8","title":"核心是把数据从数据源source收集过来，发送到指定的目的地sink.","parent":"40ac7a472594","children":[]},{"id":"e7ae7b56b43b","title":"为了保证数据可靠发送，从数据源收集到的数据会先发送到Channel中缓存，待数据成功到达sink后，flume再删除channel中的缓存数据","children":[],"parent":"40ac7a472594"},{"id":"193974e77223","title":"传输过程中，数据被封装成event(最小完整数据单元):包括header, body, event信息","children":[],"parent":"40ac7a472594"}]}],"root":true,"theme":"paper","children":[{"id":"4a8d6a9dac5e","title":"数据仓库","parent":"root","children":[{"id":"c4b5e41adf02","title":"面向主题的 Subject-Oriented","parent":"4a8d6a9dac5e","children":[]},{"id":"8a6f528f4919","title":"集成的 Integrated","parent":"4a8d6a9dac5e","children":[]},{"id":"d451f868d2d2","title":"非易失的&nbsp;&nbsp;Non-Volatile","parent":"4a8d6a9dac5e","children":[]},{"id":"a3098e2e167b","title":"时变的 Time Variant","parent":"4a8d6a9dac5e","children":[]},{"id":"ecc794204417","title":"数据源于外部，用于外部，自身不生产，不消费","children":[],"parent":"4a8d6a9dac5e"},{"id":"16a6c9ce23f6","title":"OLAP(Online Analytical Process) 分析型处理","children":[],"parent":"4a8d6a9dac5e"},{"id":"e3b36b28e6a0","title":"三层架构","parent":"4a8d6a9dac5e","children":[{"id":"c56f5629a102","title":"源数据：接口数据临时存储层，直接沿用外围数据结构与数据，不对外开放","parent":"e3b36b28e6a0","children":[]},{"id":"80422ed89978","title":"数据仓库（细节层）：对源数据进行extract-清洗-transform-load，以固定周期执行ELT后加载到仓库","parent":"e3b36b28e6a0","children":[]},{"id":"c572ffd8e3c3","title":"应用层：根据报表等需求直接计算出的，返回给前端的数据","parent":"e3b36b28e6a0","children":[]}]}],"collapsed":false},{"id":"14eb4e069cad","title":"hive","parent":"root","children":[{"id":"8f2fab255826","title":"Hadoop的数据仓库工具，本质是将SQL转换为MapReduce计算","parent":"14eb4e069cad","children":[]},{"id":"844b38155e8a","title":"可将结构化数据文件映射成数据库表","parent":"14eb4e069cad","children":[]},{"id":"d1adc8b0b75a","title":"用作离线数据分析","parent":"14eb4e069cad","children":[]},{"id":"8c5f374bcd02","title":"分用户接口、源数据存储、解释器、优化器、编译器执行器","parent":"14eb4e069cad","children":[]},{"id":"b5a2e12900e0","title":"依赖于HDFS存储数据，依赖于MR处理数据","children":[],"parent":"14eb4e069cad"},{"id":"2396d88c22d2","title":"不完全支持SQL，eg:不支持记录级别的更新/插入/删除、索引、事务、子查询和连接也有限制","parent":"14eb4e069cad","children":[]},{"id":"5f8b7e353f63","title":"","parent":"14eb4e069cad","children":[],"image":{"w":600,"h":330,"url":"http://7xt9nt.com1.z0.glb.clouddn.com/5ac0978ee4b04a5e960d4894?e=1522574751&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:Yj0ddGOk8mJnIjGDHMp7ILmWLfA="}},{"id":"4605d8e2b258","title":"","children":[],"parent":"14eb4e069cad","image":{"w":694,"h":418,"url":"http://7xt9nt.com1.z0.glb.clouddn.com/5ac0979fe4b04a5e960d48c6?e=1522574767&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:oimOBXOiPWTLrE46Fm_tBRAyCrU="}}],"collapsed":false},{"id":"e96da40b6a99","title":"分布式应用","parent":"root","children":[]}]}},"meta":{"id":"5ac088f4e4b0cf24e9614948","member":"5ab9b585e4b0a248b0e71c80","exportTime":"2018-04-06 20:58:38","diagramInfo":{"category":"mind_free","title":"大数据知识结构","created":"2018-04-01 15:23:32","creator":"5ab9b585e4b0a248b0e71c80","modified":"2018-04-02 23:17:52"},"type":"ProcessOn Schema File","version":"1.0"}}